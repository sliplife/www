webpackJsonp([1],{1280:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(1288),l=n.n(a),s=n(0),c=n.n(s),u=n(51),d=n(52),p=n(117),h=n(94),m=n(71),f=(n.n(m),n(569));n.d(e,"default",function(){return W});var g,v,w,b,y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},E=function(t){return y({},t.auth,{listings:t.listings})},S=function(t){return{dispatch:t,actions:{alert:n.i(p.a)(h.b,t),auth:n.i(p.a)(h.a,t),listings:n.i(p.a)(h.e,t)}}},W=(g=n.i(u.connect)(E,S))((b=w=function(t){function e(n){i(this,e);var o=r(this,t.call(this,n));return o.bindWindowScroll=o.bindWindowScroll.bind(o),o.unbindWindowScroll=o.unbindWindowScroll.bind(o),o.handleWindowScroll=l()(o.handleWindowScroll.bind(o),250),o.state={isLoading:!0,isPaging:!1,isSearching:!1,query:"",limit:25,page:1},o}return o(e,t),e.prototype.componentDidMount=function(){var t=this;f.a.done();var e=this.state,n=e.limit,i=e.page;this.scroller=window.document,this.props.actions.listings.browse({limit:n,page:i}).then(function(){return t.setState({isLoading:!1},t.bindWindowScroll)})},e.prototype.componentDidUpdate=function(){f.a.done(),this.bindWindowScroll()},e.prototype.componentWillUnmount=function(){this.unbindWindowScroll(),this.props.actions.listings.reset()},e.prototype.bindWindowScroll=function(){this.scroller&&(this.scroller.addEventListener("scroll",this.handleWindowScroll,!1),this.scroller.addEventListener("wheel",this.handleWindowScroll,!1),this.scroller.addEventListener("touchstart",this.handleWindowScroll,!1))},e.prototype.unbindWindowScroll=function(){this.scroller&&(this.scroller.removeEventListener("scroll",this.handleWindowScroll,!1),this.scroller.removeEventListener("wheel",this.handleWindowScroll,!1),this.scroller.removeEventListener("touchstart",this.handleWindowScroll,!1))},e.prototype.handleWindowScroll=function(){var t=this,e=this.props.listings,n=e.currentPage,i=e.nextPage;this.nearBottom()&&n<i&&(f.a.start(),this.setState({isPaging:!0},function(){t.props.actions.listings.browse({limit:t.state.limit,page:i}).then(function(){return t.setState({isPaging:!1},f.a.done())})}))},e.prototype.nearBottom=function(){return this.scroller.scrollTop+this.scroller.clientHeight>=this.scroller.scrollHeight-450},e.prototype.render=function(){return c.a.createElement("div",null,c.a.createElement(m.Segment,{as:m.Form,attached:"bottom"},c.a.createElement(m.Form.Field,null,c.a.createElement(m.Input,{action:{secondary:!0,content:"Cast"},icon:"search",iconPosition:"left",name:"query",placeholder:"Search",type:"text"}))),c.a.createElement(m.Segment,null,c.a.createElement(m.Item.Group,{divided:!0},this.props.listings.listings.length?this.props.listings.listings.map(function(t){return c.a.createElement(m.Item,{key:t.id},c.a.createElement(m.Item.Image,{as:d.c,to:"/listings/"+t.id,src:"/assets/images/image.png",label:{color:"red",corner:"right",icon:"anchor"}}),c.a.createElement(m.Item.Content,null,c.a.createElement(m.Item.Header,{as:d.c,to:"/listings/"+t.id},"Palm Bay"),c.a.createElement(m.Item.Meta,null,c.a.createElement("span",{className:"cinema"},"Florida")),c.a.createElement(m.Item.Description,null,c.a.createElement("p",null,t.description)),c.a.createElement(m.Item.Extra,null,c.a.createElement(m.Label,{color:"orange"},"New"),c.a.createElement(m.Label,null,"Rack"),c.a.createElement(m.Button,{primary:!0,floated:"right",as:d.c,to:"/listings/"+t.id},"View Listing",c.a.createElement(m.Icon,{name:"right chevron"})))))}):c.a.createElement(f.c,null))))},e}(c.a.Component),w.propTypes={dispatch:s.PropTypes.func.isRequired,actions:s.PropTypes.object.isRequired,location:s.PropTypes.object.isRequired,listings:s.PropTypes.object.isRequired},v=b))||v},1288:function(t,e,n){function i(t,e,n){function i(e){var n=w,i=b;return w=b=void 0,P=e,E=t.apply(i,n)}function u(t){return P=t,S=setTimeout(h,e),T?i(t):E}function d(t){var n=t-W,i=t-P,r=e-n;return I?c(r,y-i):r}function p(t){var n=t-W,i=t-P;return void 0===W||n>=e||n<0||I&&i>=y}function h(){var t=o();if(p(t))return m(t);S=setTimeout(h,d(t))}function m(t){return S=void 0,L&&w?i(t):(w=b=void 0,E)}function f(){void 0!==S&&clearTimeout(S),P=0,w=W=b=S=void 0}function g(){return void 0===S?E:m(o())}function v(){var t=o(),n=p(t);if(w=arguments,b=this,W=t,n){if(void 0===S)return u(W);if(I)return S=setTimeout(h,e),i(W)}return void 0===S&&(S=setTimeout(h,e)),E}var w,b,y,E,S,W,P=0,T=!1,I=!1,L=!0;if("function"!=typeof t)throw new TypeError(l);return e=a(e)||0,r(n)&&(T=!!n.leading,I="maxWait"in n,y=I?s(a(n.maxWait)||0,e):y,L="trailing"in n?!!n.trailing:L),v.cancel=f,v.flush=g,v}var r=n(20),o=n(1289),a=n(118),l="Expected a function",s=Math.max,c=Math.min;t.exports=i},1289:function(t,e,n){var i=n(26),r=function(){return i.Date.now()};t.exports=r}});
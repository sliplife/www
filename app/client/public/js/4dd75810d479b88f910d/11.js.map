{"version":3,"sources":["webpack:///4dd75810d479b88f910d/11.js","webpack:///./app/client/assets/js/components/Submit/Confirmation/index.js"],"names":["webpackJsonp","1312","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_react_redux__","__WEBPACK_IMPORTED_MODULE_2_react_router_redux__","__WEBPACK_IMPORTED_MODULE_3_actions__","__WEBPACK_IMPORTED_MODULE_4_redux__","__WEBPACK_IMPORTED_MODULE_5_react_router__","__WEBPACK_IMPORTED_MODULE_6_semantic_ui_react__","__WEBPACK_IMPORTED_MODULE_7_components__","d","InstallerAccount","_dec","_class","_class2","_temp","mapStateToProps","state","auth","listings","stripe","mapDispatchToProps","dispatch","actions","i","_React$Component","props","this","_this","isLoading","handleContinue","bind","componentWillMount","steps","listing","completed","billing","setState","setActiveStep","setCompletedStep","componentWillUnmount","reset","resetCompletedSteps","componentDidMount","done","event","_this2","preventDefault","render","a","createElement","loading","attached","className","user","email","fluid","primary","as","to","id","content","Component","propTypes","api","object","func","isRequired"],"mappings":"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","file":"4dd75810d479b88f910d/11.js","sourcesContent":["webpackJsonp([11],{\n\n/***/ 1312:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_redux__ = __webpack_require__(51);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_router_redux__ = __webpack_require__(186);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_router_redux___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_react_router_redux__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_actions__ = __webpack_require__(62);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_redux__ = __webpack_require__(118);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react_router__ = __webpack_require__(52);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_semantic_ui_react__ = __webpack_require__(73);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_semantic_ui_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_semantic_ui_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_components__ = __webpack_require__(573);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return InstallerAccount; });\nvar _dec, _class, _class2, _temp;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    listings: state.listings,\n    stripe: state.stripe\n  };\n};\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    dispatch: dispatch,\n    actions: {\n      listings: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_redux__[\"a\" /* bindActionCreators */])(__WEBPACK_IMPORTED_MODULE_3_actions__[\"b\" /* listings */], dispatch)\n    }\n  };\n};\n\nvar InstallerAccount = (_dec = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_react_redux__[\"connect\"])(mapStateToProps, mapDispatchToProps), _dec(_class = (_temp = _class2 = function (_React$Component) {\n  _inherits(InstallerAccount, _React$Component);\n\n  function InstallerAccount(props) {\n    _classCallCheck(this, InstallerAccount);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _this.state = {\n      isLoading: true\n    };\n\n    _this.handleContinue = _this.handleContinue.bind(_this);\n    return _this;\n  }\n\n  InstallerAccount.prototype.componentWillMount = function componentWillMount() {\n\n    if (!this.props.steps.listing.completed) {\n      return this.props.dispatch(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_react_router_redux__[\"replace\"])('/submit/listing'));\n    }\n    if (!this.props.steps.billing.completed) {\n      return this.props.dispatch(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_react_router_redux__[\"replace\"])('/submit/billing'));\n    }\n    this.setState({ isLoading: false });\n    this.props.setActiveStep('confirmation');\n    this.props.setCompletedStep('confirmation');\n  };\n\n  InstallerAccount.prototype.componentWillUnmount = function componentWillUnmount() {\n\n    this.props.setActiveStep(false);\n    this.props.actions.listings.reset();\n    this.props.resetCompletedSteps();\n  };\n\n  InstallerAccount.prototype.componentDidMount = function componentDidMount() {\n\n    __WEBPACK_IMPORTED_MODULE_7_components__[\"a\" /* NProgress */].done();\n  };\n\n  InstallerAccount.prototype.handleContinue = function handleContinue(event) {\n    var _this2 = this;\n\n    event.preventDefault();\n    this.setState({ isLoading: true }, function () {\n      return _this2.props.dispatch(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_react_router_redux__[\"push\"])('/login'));\n    });\n  };\n\n  InstallerAccount.prototype.render = function render() {\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      __WEBPACK_IMPORTED_MODULE_6_semantic_ui_react__[\"Form\"],\n      { loading: this.state.isLoading },\n      __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_6_semantic_ui_react__[\"Segment\"],\n        { attached: 'bottom' },\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'div',\n          { className: 'ui vertical center aligned very padded segment' },\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'h2',\n            { className: 'ui center aligned icon header' },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('i', { className: 'circular anchor icon' }),\n            ' Success'\n          ),\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'p',\n            null,\n            'Receipt sent to ',\n            this.props.auth.user.email\n          )\n        )\n      ),\n      __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_6_semantic_ui_react__[\"Segment\"],\n        null,\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6_semantic_ui_react__[\"Button\"], { fluid: true, primary: true,\n          as: __WEBPACK_IMPORTED_MODULE_5_react_router__[\"c\" /* Link */],\n          to: '/listings/' + this.props.listings.listing.id,\n          content: 'Finished'\n        })\n      )\n    );\n  };\n\n  return InstallerAccount;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component), _class2.propTypes = {\n  api: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].object,\n  auth: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].object,\n  dispatch: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].func,\n  actions: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].object,\n  listings: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].object.isRequired,\n  setActiveStep: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].func.isRequired,\n  setCompletedStep: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].func.isRequired,\n  resetCompletedSteps: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].func.isRequired,\n  steps: __WEBPACK_IMPORTED_MODULE_0_react__[\"PropTypes\"].object.isRequired\n}, _temp)) || _class);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 4dd75810d479b88f910d/11.js","import React, { PropTypes } from 'react';\nimport { connect } from 'react-redux';\nimport { push, replace } from 'react-router-redux';\nimport * as actionCreators from 'actions';\nimport { bindActionCreators } from 'redux';\nimport { Link } from 'react-router';\nimport { Button, Form, Segment } from 'semantic-ui-react';\nimport { NProgress } from 'components';\n\nconst mapStateToProps = (state) => ({\n  auth: state.auth,\n  listings: state.listings,\n  stripe: state.stripe\n});\nconst mapDispatchToProps = (dispatch) => ({\n  dispatch,\n  actions: {\n    listings: bindActionCreators(actionCreators.listings, dispatch)\n  }\n});\n\n@connect(mapStateToProps, mapDispatchToProps)\nexport default class InstallerAccount extends React.Component {\n  static propTypes = {\n    api: PropTypes.object,\n    auth: PropTypes.object,\n    dispatch: PropTypes.func,\n    actions: PropTypes.object,\n    listings: PropTypes.object.isRequired,\n    setActiveStep: PropTypes.func.isRequired,\n    setCompletedStep: PropTypes.func.isRequired,\n    resetCompletedSteps: PropTypes.func.isRequired,\n    steps: PropTypes.object.isRequired\n  };\n  state = {\n    isLoading: true\n  };\n  constructor(props) {\n\n    super(props);\n    this.handleContinue = this.handleContinue.bind(this);\n  }\n  componentWillMount() {\n\n    if (!this.props.steps.listing.completed) {\n      return this.props.dispatch(replace('/submit/listing'));\n    }\n    if (!this.props.steps.billing.completed) {\n      return this.props.dispatch(replace('/submit/billing'));\n    }\n    this.setState({ isLoading: false });\n    this.props.setActiveStep('confirmation');\n    this.props.setCompletedStep('confirmation');\n  }\n  componentWillUnmount() {\n\n    this.props.setActiveStep(false);\n    this.props.actions.listings.reset();\n    this.props.resetCompletedSteps();\n  }\n  componentDidMount() {\n\n    NProgress.done();\n  }\n  handleContinue(event) {\n\n    event.preventDefault();\n    this.setState({ isLoading: true }, () => this.props.dispatch(push('/login')));\n  }\n  render() {\n\n    return (\n      <Form loading={this.state.isLoading}>\n        <Segment attached='bottom'>\n          <div className=\"ui vertical center aligned very padded segment\">\n            <h2 className=\"ui center aligned icon header\">\n              <i className={'circular anchor icon'} /> Success\n            </h2>\n            <p>Receipt sent to {this.props.auth.user.email}</p>\n          </div>\n        </Segment>\n        <Segment>\n          <Button fluid primary\n            as={Link}\n            to={`/listings/${this.props.listings.listing.id}`}\n            content='Finished'\n          />\n        </Segment>\n      </Form>\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/client/assets/js/components/Submit/Confirmation/index.js"],"sourceRoot":""}